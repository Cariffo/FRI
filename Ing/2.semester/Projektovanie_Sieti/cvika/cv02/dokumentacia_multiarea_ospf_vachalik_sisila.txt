#Základná konfigurácia

!!!!!!!!!!   R1   !!!!!!!!!!
hostname R1
no ip domain-lookup
username admin privilege 15 secret admin
line con 0
	login local
	logging synchronous
line vty 0 15
	privilege level 15
	no login
int lo1
	ip address 10.255.255.1 255.255.255.255
	no shutdown
int f0/1
	ip address 10.100.15.1 255.255.255.0
	no shutdown
int f0/0
	ip address 10.0.12.1 255.255.255.0
	no shutdown

do show ip interface brief


!!!!!!!!!!   R2   !!!!!!!!!!
hostname R2
no ip domain-lookup
username admin privilege 15 secret admin
line con 0
	login local
	logging synchronous
line vty 0 15
	privilege level 15
	no login
int lo1
	ip address 10.255.255.2 255.255.255.255
	no shutdown
int f0/1
	ip address 10.0.234.2 255.255.255.0
	no shutdown
int f0/0
	ip address 10.0.12.2 255.255.255.0
	no shutdown

do show ip interface brief


!!!!!!!!!!   R3   !!!!!!!!!!
hostname R3
no ip domain-lookup
username admin privilege 15 secret admin
line con 0
	login local
	logging synchronous
line vty 0 15
	privilege level 15
	no login
int lo1
	ip address 10.255.255.3 255.255.255.255
	no shutdown
int f0/1
	ip address 10.0.234.3 255.255.255.0
	no shutdown
int f0/0
	ip address 10.1.38.1 255.255.255.0
	no shutdown
int s1/0
	ip address 10.2.39.1 255.255.255.252
	no shutdown

do show ip interface brief


!!!!!!!!!!   R4   !!!!!!!!!!
hostname R4
no ip domain-lookup
username admin privilege 15 secret admin
line con 0
	login local
	logging synchronous
line vty 0 15
	privilege level 15
	no login
int lo1
	ip address 10.255.255.4 255.255.255.255
	no shutdown
int f0/1
	ip address 10.0.234.4 255.255.255.0
	no shutdown
int f0/0
	ip address 10.2.49.1 255.255.255.0
	no shutdown
int s1/0
	ip address 10.3.104.1 255.255.255.252
	no shutdown

do show ip interface brief


!!!!!!!!!!   R5   !!!!!!!!!!
hostname R5
no ip domain-lookup
username admin privilege 15 secret admin
line con 0
	login local
	logging synchronous
line vty 0 15
	privilege level 15
	no login
int lo1
	ip address 10.255.255.5 255.255.255.255
	no shutdown
int f0/1
	ip address 10.100.15.2 255.255.255.0
	no shutdown

do show ip interface brief

!!!!!!!!!!   R6   !!!!!!!!!!
hostname R6
no ip domain lookup
username admin privil 15 secret admin
line con 0
	login local
	logging synchro
line vty 0 15
	privilege level 15	
	no login
int lo1
	ip add 10.255.255.6 255.255.255.255
	no sh
int fa0/1 
	ip add 10.4.67.1 255.255.255.0
	no sh

!!!!!!!!!!   R7   !!!!!!!!!!
hostname R7
no ip domain lookup
username admin privil 15 secret admin
line con 0
	login local
	logging synchro
line vty 0 15
	privilege level 15	
	no login
int lo1
	ip add 10.255.255.7 255.255.255.255
	no sh
int fa0/1 
	ip add 10.4.67.2 255.255.255.0
	no sh
int s1/1
	ip add 10.4.107.1 255.255.255.0
	no sh

!!!!!!!!!!   R8   !!!!!!!!!!
hostname R8
no ip domain lookup
username admin privil 15 secret admin
line con 0
	login local
	logging synchro
line vty 0 15
	privilege level 15	
	no login
int lo1
	ip add 10.255.255.8 255.255.255.255
	no sh
int fa0/0 
	ip add 10.1.38.2 255.255.255.0
	no sh

!!!!!!!!!!   R9   !!!!!!!!!!
hostname R9
no ip domain lookup
username admin privil 15 secret admin
line con 0
	login local
	logging synchro
line vty 0 15
	privilege level 15	
	no login
int lo1
	ip add 10.255.255.9 255.255.255.255
	no sh
int fa0/0 
	ip add 10.2.49.2 255.255.255.0
	no sh
int s1/0
	ip add 10.2.39.2 255.255.255.0
	no sh

!!!!!!!!!!   R10   !!!!!!!!!!
hostname R10
no ip domain lookup
username admin privil 15 secret admin
line con 0
	login local
	logging synchro
line vty 0 15
	privilege level 15	
	no login
int lo1
	ip add 10.255.255.10 255.255.255.255
	no sh
int s1/1 
	ip add 10.4.107.2 255.255.255.0
	no sh
int s1/0
	ip add 10.3.104.2 255.255.255.0
	no sh










#Nakonfigurovať OSPF s viacerými oblasťami

!KONFIGURACIA R1
router ospf 1
    network 10.255.255.1 0.0.0.0 area 0
    exit
int f0/0
    ip ospf 1 area 0
    !treba zapnut interface, ked nam padne router/server
    no shutdown

!KONFIGURACIA R2
router ospf 1
    network 10.255.255.2 0.0.0.0 area 0
    exit
int f0/0
    ip ospf 1 area 0
    no shutdown
int f0/1
    ip ospf 1 area 0
    no shutdown

!KONFIGURACIA R3
router ospf 1
    network 10.255.255.3 0.0.0.0 area 1
    exit
int f0/1
    ip ospf 1 area 0
    no shutdown
int f0/0
    ip ospf 1 area 1
    no shutdown
int s1/0
    ip ospf 1 area 2
    no shutdown

!KONFIGURACIA R4
router ospf 1
    network 10.255.255.4 0.0.0.0 area 3
    exit
int f0/1
    ip ospf 1 area 0
    no shutdown
int f0/0
    ip ospf 1 area 2
    no shutdown
int s1/0
    ip ospf 1 area 3
    no shutdown


!KONFIGURACIA R5
ip route 0.0.0.0 0.0.0.0 f0/1 10.100.15.1

!KONFIGURACIA R6
router ospf 1
    network 10.255.255.6 0.0.0.0 area 4
    exit
int f0/1
    ip ospf 1 area 4
    no sh

!KONFIGURACIA R7
router ospf 1
    network 10.255.255.7 0.0.0.0 area 4
    exit
int f0/1
    ip ospf 1 area 4
    no sh
int s1/1
    ip ospf 1 area 4
    no sh

!KONFIGURACIA R8
router ospf 1
    network 10.255.255.8 0.0.0.0 area 1
    exit
int f0/0
    ip ospf 1 area 1
    no sh

!KONFIGURACIA R9
router ospf 1
    network 10.255.255.9 0.0.0.0 area 2
    exit
int f0/0
    ip ospf 1 area 2
    no sh
int s1/0
    ip ospf 1 area 2
    no sh 

!KONFIGURACIA R10
router ospf 1
    network 10.255.255.10 0.0.0.0 area 3
    exit
int s1/0
    ip ospf 1 area 3
    no sh
int s1/1
    ip ospf 1 area 4
    no sh 




















#R2, R3, R4 broadcast spojenia prostredníctvom L2 prepínača, zvyšok spojení P2P

!KONFIGURACIA R1
int f0/0
    ip ospf network point-to-point

!KONFIGURACIA R2
int f0/0
    ip ospf network point-to-point

!KONFIGURACIA R3
int f0/0
    ip ospf network point-to-point
int s1/0
    ip ospf network point-to-point

!KONFIGURACIA R4
int f0/0
    ip ospf network point-to-point
int s1/0
    ip ospf network point-to-point

!KONFIGURACIA R6
int f0/1
    ip ospf network point-to-point

!KONFIGURACIA R7
int f0/1
    ip ospf network point-to-point
int s1/1
    ip ospf network point-to-point

!KONFIGURACIA R8
int f0/0
    ip ospf network point-to-point

!KONFIGURACIA R9
int f0/0
    ip ospf network point-to-point
    ip ospf 1 area 2
int s1/0
    ip ospf network point-to-point

!KONFIGURACIA R10
int s1/0
    ip ospf network point-to-point
int s1/1
    ip ospf network point-to-point

































#Router-id - loopback0, passive-interface

Na každom routri sme vykonali tieti príkazy:

router ospf 1
    router-id 10.255.255.X
    passive-interface lo1


'X' symbolizuje číslo smerovača (napr. pre R1: 10.255.255.1)



































#Area 1 – Totally Stubby

#Area 3 – Stub

#Area 4 – pripojenie pomocou virtuálnej linky

















#Statická redistribúcia smerovacích záznamov z R5

Na smerovači R5 sme nastavili predvolenú cestu:

    ip route 0.0.0.0 0.0.0.0 f0/1 10.100.15.1


Potom sme na smerovači R1 namapovali cestu k "lo1" na R5, ktorú sme ohlásili v rámci OSPF topológie príkazmi "redistribute":

ip route 10.255.255.5 255.255.255.255 f0/1 10.100.15.2
router ospf 1
    redistribute static subnets
    redistribute connected subnets










#Kontrola DR prostredníctvom  “ip ospf priority”

Rozhodli sme sa, že manuálne nastavíme smerovač R4 ako DR:

int f0/1
    ip ospf priority 100

















#Kontrola OSPF databáz a smerovacích tabuliek






















#Kontrola konektivity

Výpis tclsh skriptu:
















#Area 2 – R3 primárny smerovač, R4 sekundárny smerovač so sumarizovanými internými smerovacími záznamami do jedného sumarizačného 

Pre nastavenie smerovača R3 ako primárneho a R4 ako sekundárneho sme vykonali na smerovači R4 vykonať:
int f0/0
    bandwidth 1


Tým, že znížime bandwidth na tomto rozhraní, zvýšime jeho "Cost". Zmena sa potom ohlási všetkým smerovačom v sieti. Následkom toho bude rozhranie f0/1 na R3 preferované pre ďalšie smerovanie.







#Skrátenie hello a dead-interval časovačov, zistenie funkčnosti vytrhnutím jednej z liniek smerom ku L2 prepínaču

Pre smerovače R2, R3 a R4 sme vykonali tieto príkazy:
int f0/1
    ip ospf hello-interval 1
    ip ospf dead-interval 2