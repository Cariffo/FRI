stiahneme vmware player bundle

nainstalujeme ako sudo

urobime skript na ploche na spustanie vmware player, lebo cez application menu -> system -> vmware player dava chybu pri spusteni:

#!/bin/bash
exec /usr/lib/vmware/lib/vmplayer

vmware player spustime dvojklikom na skript (plati pre xfce4)

ked sa vmware player otvori, zavrieme ho a restartujeme pc resp. vypneme lxc kontajner (shutdown now) a potom ho znova spustime z lxc konzoly (treba povedat Marekovi)


=============================================================================
=============================================================================


lenze po vypnuti lxc kontajnera "eve-test" sa don nedalo pripojit cez ssh. konektivita sa obnovila, ked sme attachli "eve-test" (konektivita s ssh stale nebola) a potom sme spravili "ping 8.8.8.8" a v tom momente sa objavil ssh prompt na prihlasovacie udaje. lxc kontajner som celu dobu spamoval prikazom "ssh andrej@158.193.152.45" a bol som pripojenzy na wifi siet "eduroam".

do odysea sa ssh pakety dostanu, odyseus ich dalej forwarduje na br0 (bridge pre lxc), ale do lxc kontajnera sa nedostanu.

prikazom "tcpdump -e -i eth0 tcp port 22 and host 158.193.152.45 and ether host <falosna MAC adresa>" sme zistili, ze pakety sa forwarduju na zlu cielovu MAC adresu, preto sa do "eve-test" kontajnera nedostanu.

ARP tabulka "arp -a" v odyseovi mala zle namapovanu MAC adresu na IP adresu mojho kontajnera. MAC adresa ARP zaznamu v Odyseovej ARP tabulke bola odlisna od MAC adresy vnutri kontajnera. Ale akonahle sme urobili "ping 8.8.8.8" ARP tabulka sa upravila do spravnej podoby a dostal som ssh prompt.

Zrejme sa tam zle arp zaznamy dostavaju z gatewayu, ale tam nemame pristup. Ale na vsetky ostatne IPcky kontajnerov sa ARPckom opyta, ale nie na IPcku mojho kontajnera.

Mozne riesenie je nastavit MAC adresu kontajnera na fixnu, aby sme predisli zbytocnym zasahom do arp tabulky.

TENTO PROBLEM JE UZ VYRIESENY! Credits to: Jakub, veduci

=============================================================================
=============================================================================

potom treba nainstalovat par dalsich veci
  apt-get install gcc linux-headers-$(uname -r)

export CC=/usr/bin/gcc-6
echo $CC



ERR-ERR !!! NEVIEM SPUSTIT ZIADNU VIRTUALNU MASINU VO VMWARE, LEBO MODUL "VMMON" NEBOL ZAVEDENY DO KERNELU! (nemam opravnenia)

tak som urobil screenshoty prikazu "ls -al vm*" z mojho notebooku a ucitelskeho pocitaca, porovnal som vystupy. LXC kontajner nemal ziadne subory v /dev adresari prisluchajuce LXC kontajneru. Tak som po rade od Peta Hadaca pouzil prikaz "mknod", ktorym som /dev adresar naplnil. ale ked som spustil vmware player cez moj skript a potom som spustil masinu, zase mi zobrazil chybovu hlasku, ze nevie najst vmmon modul, ze nie je nacitany a spustenie virtualky zlyha. Ked ale spustim vmware player cez Applications menu, tak mi zobrazi dialogove okno, v ktorom odomna ziada cestu ku linux kernel headers (zdrojaky ku kernelu). Lenze kernel headers k debianu 9 este neexistuju resp. balicek este nie je dostupny.  Ked som ich chcel nainstalovat prikazom "apt-get install linux-headers-$(uname -r)", tak vypisal chybu, ze taky balicek neexistuje. Ani instalacia jedninych dostupnych headerov "linux-headers-4.9.0-2-amd64" nepomohla, lebo kernel, ktory momentalne (20.4.2017) bezi v systeme je vo verzii 4.9.0.-1 a VMware si s nim nerozumie! Tym vznikla nezhoda medzi verziou aktualneho kernelu a verziou zdrojovych suborov ku kernelu v apt. Takze musim cakat do 2.5.2017, kym sa Debian 9 Stretch OFICIALNE uvolni a potom nainstalovat zodpovedajuce headery a skusit doinstalovat VMware potom.